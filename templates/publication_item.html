<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publication - {{ publication.title }}</title>
    <!-- Use url_for to generate the correct path to static CSS files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header-footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pnp.css') }}">
</head>
<body>
    <!-- Header Template -->
    {% include 'header.html' %}

    <main>
        <div class="two-column-layout">
            <!-- Left Column: Publication Thumbnail, Venue, and Links -->
            <div class="side-wrapper">
                <section class="publication-info section-shadow">
                    <img src="{{ publication.thumbnail }}" alt="{{ publication.title }} Thumbnail" class="publication-thumbnail">
                    {% if publication.venue %}
                    <p>
                        <strong>Presented in:</strong>
                        <a href="{{ publication.venue_link }}">{{ publication.venue }}</a>
                    </p>
                    {% endif %}
                    {% if publication.journal %}
                    <p>
                        <strong>Published in:</strong>
                        <a href="{{ publication.journal_link }}">{{ publication.journal }}</a>
                    </p>
                    {% endif %}

                    <div class="publication-links">
                        {% if publication.paper %}
                        <a href="{{ publication.paper }}" class="link-icon"><img src="{{ url_for('static', filename='publications/paper-icon.png') }}" alt="Paper"></a>
                        {% endif %}
                        {% if publication.poster %}
                        <a href="{{ publication.poster }}" class="link-icon"><img src="{{ url_for('static', filename='publications/poster-icon.png') }}" alt="Poster"></a>
                        {% endif %}
                        {% if publication.slides %}
                        <a href="{{ publication.slides }}" class="link-icon"><img src="{{ url_for('static', filename='publications/slides-icon.png') }}" alt="Slides"></a>
                        {% endif %}
                        {% if publication.presentation %}
                        <a href="{{ publication.presentation }}" class="link-icon"><img src="{{ url_for('static', filename='publications/presentation-icon.png') }}" alt="Presentation"></a>
                        {% endif %}
                    </div>
                </section>
            </div>

            <!-- Right Column: Main Content -->
            <div class="main-wrapper">
                <section class="publication-content section-shadow">
                    <h2><a href="{{ publication.paper }}">{{ publication.title }}</a></h2>
                    <p class="authors">
                        {% for author in publication.authors %}
                            <span class="{% if author == 'Eric Khiu' %}bold-author{% endif %}">{{ author }}</span>
                            {% if not loop.last %},{% endif %}
                        {% endfor %}
                    </p>
                    <p class="abstract">{{ publication.abstract }}</p>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer Template -->
    {% include 'footer.html' %}
</body>
</html>
